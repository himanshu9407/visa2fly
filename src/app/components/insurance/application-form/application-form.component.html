<section class="insurance-banner"></section>
<section class="insurance_application">
  <div class="insurance_application-header_box text-center">
    <h2 class="insurance_application-heading">Insurance Application Form</h2>
  </div>

  <div class="container insurance_application-container">
    <form [formGroup]="policyDetailForm" class="policyDetailForm">
      <div class="form-row form-group">
        <div
          class="col-lg-12 col-md-12 col-sm-12 col-12 insurance_application-subheader_box"
        >
          <h5 class="insurance_application-subheading">Policy Details :</h5>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
          <div class="insurance-input_box">
            <label for="planType" class="insurance-label">Plan Type</label>
            <div class="styleSelectPlan">
              <select
                name="planType"
                (change)="onChangePlan()"
                class="form-control form-control-sm"
                id="planType"
                formControlName="planType"
              >
                <option value="Basic">Basic</option>
                <option value="Gold">Gold</option>
              </select>
            </div>
          </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
          <div class="insurance-input_box">
            <label for="coverage" class="insurance-label">Coverage</label>
            <input
              type="text"
              id="coverage"
              formControlName="coverage"
              class="form-control-sm form-control insurance-input"
            />
          </div>
        </div>
        <div class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box">
          <div class="insurance-input_box right">
            <span class="insurance-label">Premium Calculated</span>
            <span
              class="insurance-amount"
              style="font-weight: 600; font-size: 15px"
            >
              â‚¹ {{ premiumCalculated }} <em>(including taxes)</em>
            </span>
          </div>
        </div>
      </div>
    </form>

    <div class="accordion" id="accordionInsurer">
      <form [formGroup]="insuranceForm">
        <form formGroupName="proposer">
          <div class="card-header main__card-heading" id="proposer">
            <h5 class="mb-0">
              <button class="btn btn-link p-0" type="button">
                Contact Details of Proposer
              </button>
            </h5>
          </div>
          <div id="proposerForm">
            <div class="card-body" style="background-color: #fff">
              <div class="form-row">
                <div
                  class="col-lg-12 col-md-12 col-sm-12 col-12 insurance_application-subheader_box"
                >
                  <h5 class="insurance_application-subheading">
                    Customer Details :
                  </h5>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                  <div class="insurance-input_box">
                    <label for="proposerFirstName" class="insurance-label"
                      >First Name<span class="astrisk">*</span></label
                    >
                    <div class="input-group">
                      <div class="input-group-prepend" style="width: 60px">
                        <select
                          name="titleCd"
                          id="proposerTitle"
                          class="form-control form-control-sm insurance-select titleSelect"
                          formControlName="titleCd"
                        >
                          <option selected value="MR">Mr</option>
                          <option value="MS">Ms</option>
                        </select>
                      </div>
                      <input
                        type="text"
                        id="proposerFirstName"
                        formControlName="firstName"
                        autocomplete="new-name"
                        pattern="[A-Za-z]{3,32}"
                        [ngClass]="{
                          'is-invalid':
                            insuranceForm.controls.proposer['controls']
                              .firstName.invalid &&
                            insuranceForm.controls.proposer['controls']
                              .firstName.dirty,
                          'is-valid':
                            !(
                              insuranceForm.controls.proposer['controls']
                                .firstName.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .firstName.dirty
                            ) &&
                            !insuranceForm.controls.proposer['controls']
                              .firstName.pristine
                        }"
                        class="form-control-sm form-control insurance-input"
                      />
                    </div>
                    <div
                      *ngIf="
                        (insuranceForm.controls.proposer['controls'].firstName
                          .invalid &&
                          insuranceForm.controls.proposer['controls'].firstName
                            .dirty) ||
                        insuranceForm.controls.proposer['controls'].firstName
                          .errors?.valueErr ||
                        (insuranceForm.controls.proposer['controls'].firstName
                          .pristine &&
                          insuranceForm.controls.proposer['controls'].firstName
                            .firstNameError)
                      "
                      class="invalid-feedback"
                      style="display: block"
                    >
                      Enter a valid first name*
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                  <div class="insurance-input_box">
                    <label for="proposerLastName" class="insurance-label"
                      >Last Name<span class="astrisk">*</span></label
                    >
                    <input
                      type="text"
                      id="proposerLastName"
                      formControlName="lastName"
                      autocomplete="new-lastName"
                      pattern="[A-Za-z]{3,32}"
                      [ngClass]="{
                        'is-invalid':
                          insuranceForm.controls.proposer['controls'].lastName
                            .invalid &&
                          insuranceForm.controls.proposer['controls'].lastName
                            .dirty,
                        'is-valid':
                          !(
                            insuranceForm.controls.proposer['controls'].lastName
                              .invalid &&
                            insuranceForm.controls.proposer['controls'].lastName
                              .dirty
                          ) &&
                          !insuranceForm.controls.proposer['controls'].lastName
                            .pristine
                      }"
                      class="form-control-sm form-control insurance-input"
                    />
                    <div
                      *ngIf="
                        (insuranceForm.controls.proposer['controls'].lastName
                          .invalid &&
                          insuranceForm.controls.proposer['controls'].lastName
                            .dirty) ||
                        insuranceForm.controls.proposer['controls'].lastName
                          .errors?.valueErr ||
                        (insuranceForm.controls.proposer['controls'].lastName
                          .pristine &&
                          insuranceForm.controls.proposer['controls'].lastName
                            .lastNameError)
                      "
                      class="invalid-feedback"
                      style="display: block"
                    >
                      Enter a valid last name*
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                  <div class="insurance-input_box">
                    <label for="proposerDateOfBirth" class="insurance-label"
                      >Date Of Birth<span class="astrisk">*</span></label
                    >
                    <div class="input-group">
                      <input hidden formControlName="birthDt" type="text" />
                      <input
                        [minDate]="{ year: 1930, month: 1, day: 1 }"
                        [maxDate]="maxDateDobForProposal"
                        formControlName="birthDtCopy"
                        id="#dob"
                        class="form-control form-control-sm addTravelDate"
                        autocomplete="new-birthDt"
                        placeholder="Date Of Birth"
                        name="dp"
                        ngbDatepicker
                        #dob="ngbDatepicker"
                        style="
                          border-top-left-radius: 0.2rem;
                          border-bottom-left-radius: 0.2rem;
                        "
                      />
                      <div class="input-group-append">
                        <button
                          class="btn btn-sm calendar"
                          (click)="dob.toggle()"
                          type="button"
                        >
                          <svg
                            xmlns="http://www.w3.org/2000/svg"
                            viewBox="0 0 24 24"
                            class="calendarSvg"
                            width="18px"
                            height="18px"
                          >
                            <path
                              d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"
                            />
                            <path d="M0 0h24v24H0z" fill="none" />
                          </svg>
                        </button>
                      </div>
                    </div>
                    <div
                      *ngIf="
                        (insuranceForm.controls.proposer['controls'].birthDt
                          .invalid &&
                          insuranceForm.controls.proposer['controls'].birthDt
                            .dirty) ||
                        insuranceForm.controls.proposer['controls'].birthDt
                          .errors?.valueErr ||
                        (insuranceForm.controls.proposer['controls'].birthDtCopy
                          .pristine &&
                          insuranceForm.controls.proposer['controls'].birthDt
                            .birthDtError)
                      "
                      class="invalid-feedback"
                      style="display: block"
                    >
                      Enter a valid date of birth*
                    </div>
                  </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                  <div class="insurance-input_box">
                    <label for="gender" class="insurance-label"
                      >Gender<span class="astrisk">*</span></label
                    >
                    <select
                      name="proposerGender"
                      id="proposerGender"
                      formControlName="genderCd"
                      autocomplete="new-genderCd"
                      class="form-control form-control-sm insurance-select"
                    >
                      <option selected value="MALE">Male</option>
                      <option value="FEMALE">Female</option>
                    </select>
                  </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                  <div class="insurance-input_box">
                    <label for="proposerNationality" class="insurance-label"
                      >Nationality<span class="astrisk">*</span></label
                    >
                    <input
                      type="text"
                      id="proposerNationality"
                      formControlName="citizenshipCd"
                      autocomplete="new-citizenshipCd"
                      class="form-control-sm form-control insurance-input"
                    />
                  </div>
                </div>
                <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                  <div class="insurance-input_box">
                    <label for="proposerRelation" class="insurance-label"
                      >Relation<span class="astrisk">*</span></label
                    >
                    <select
                      name="proposerRelation"
                      id="proposerRelation"
                      formControlName="relationCd"
                      autocomplete="new-relationCd"
                      class="form-control form-control-sm insurance-select"
                    >
                      <option
                        *ngFor="let item of relationOptionArr"
                        [value]="item"
                      >
                        {{ item }}
                      </option>
                    </select>
                   
                  </div>

                  <!-- {{ relationOptionArr.filter(element => disabledRelationOptionArr.includes(element)) }} -->
                  <!-- array1.filter(element => array2.includes(element)) -->
                </div>
              </div>
              <div class="form-row mt-2">
                <div class="col-lg-6">
                  <div class="form-row">
                    <div
                      class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box"
                      formArrayName="partyContactDOList"
                      *ngFor="
                        let contact of insuranceForm.controls.proposer[
                          'controls'
                        ].partyContactDOList['controls'];
                        let j = index
                      "
                    >
                      <div class="insurance-input_box" [formGroupName]="j">
                        <label class="insurance-label" for="proposerContactNum"
                          >Contact No.<span class="astrisk">*</span></label
                        >
                        <div class="input-group input-group-sm">
                          <div class="input-group-prepend">
                            <span class="input-group-text">+91</span>
                          </div>
                          <input
                            type="tel"
                            id="proposerContactNum"
                            formControlName="contactNum"
                            autocomplete="new-contactNum"
                            pattern="^[6-9][0-9]{9}$"
                            [ngClass]="{
                              'is-invalid':
                                insuranceForm.controls.proposer['controls']
                                  .partyContactDOList['controls'][j].controls
                                  .contactNum.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyContactDOList['controls'][j].controls
                                  .contactNum.dirty,
                              'is-valid':
                                !(
                                  insuranceForm.controls.proposer['controls']
                                    .partyContactDOList['controls'][j].controls
                                    .contactNum.invalid &&
                                  insuranceForm.controls.proposer['controls']
                                    .partyContactDOList['controls'][j].controls
                                    .contactNum.dirty
                                ) &&
                                !insuranceForm.controls.proposer['controls']
                                  .partyContactDOList['controls'][j].controls
                                  .contactNum.pristine
                            }"
                            class="form-control-sm form-control insurance-input iti"
                          />
                        </div>
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyContactDOList['controls'][j].controls
                              .contactNum.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyContactDOList['controls'][j].controls
                                .contactNum.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyContactDOList['controls'][j].controls
                              .contactNum.errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyContactDOList['controls'][j].controls
                              .contactNum.pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyContactDOList['controls'][j].controls
                                .contactNum.contactNumError)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid contact number*
                        </div>
                      </div>
                    </div>
                    <div
                      class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box"
                      formArrayName="partyEmailDOList"
                      *ngFor="
                        let contact of insuranceForm.controls.proposer[
                          'controls'
                        ].partyEmailDOList['controls'];
                        let j = index
                      "
                    >
                      <div class="insurance-input_box" [formGroupName]="j">
                        <label
                          for="proposerEmailAddress"
                          class="insurance-label"
                          >Email Address<span class="astrisk">*</span></label
                        >
                        <input
                          type="email"
                          id="proposerEmailAddress"
                          formControlName="emailAddress"
                          autocomplete="new-emailAddress"
                          pattern="^([A-Za-z0-9._%\+\-]+@[a-z0-9.\-]+\.[a-z]{2,3})$"
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyEmailDOList['controls'][j].controls
                                .emailAddress.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyEmailDOList['controls'][j].controls
                                .emailAddress.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyEmailDOList['controls'][j].controls
                                  .emailAddress.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyEmailDOList['controls'][j].controls
                                  .emailAddress.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyEmailDOList['controls'][j].controls
                                .emailAddress.pristine
                          }"
                          class="form-control-sm form-control insurance-input"
                        />
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyEmailDOList['controls'][j].controls
                              .emailAddress.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyEmailDOList['controls'][j].controls
                                .emailAddress.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyEmailDOList['controls'][j].controls
                              .emailAddress.errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyEmailDOList['controls'][j].controls
                              .emailAddress.pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyEmailDOList['controls'][j].controls
                                .emailAddress.emailAddressError)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid email address*
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div
                  class="col-lg-6"
                  formArrayName="partyIdentityDOList"
                  *ngFor="
                    let contact of insuranceForm.controls.proposer['controls']
                      .partyIdentityDOList['controls'];
                    let j = index
                  "
                >
                  <div class="form-row" [formGroupName]="j">
                    <div class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label
                          for="proposerIdentityType"
                          class="insurance-label"
                          >Identity Type<span class="astrisk">*</span></label
                        >
                        <select
                          name="proposerIdentityType"
                          id="proposerIdentityType"
                          formControlName="identityTypeCd"
                          autocomplete="new-identityTypeCd"
                          class="form-control form-control-sm insurance-select"
                        >
                          <option selected value="PAN">PAN</option>
                          <option value="PASSPORT">PASSPORT</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label
                          for="proposerIdentityNumber"
                          class="insurance-label"
                          >Identity Number<span class="astrisk">*</span></label
                        >
                        <input
                          type="text"
                          id="proposerIdentityNumber"
                          formControlName="identityNum"
                          autocomplete="new-identityNum"
                          [pattern]="
                            insuranceForm.controls.proposer['controls']
                              .partyIdentityDOList['controls'][j].controls
                              .identityTypeCd.value === 'PAN'
                              ? '^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$'
                              : '^[A-Za-z]{1}[0-9]{7}$'
                          "
                          #identityNum
                          (input)="
                            identityNum.value = $event.target.value.toUpperCase()
                          "
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyIdentityDOList['controls'][j].controls
                                .identityNum.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyIdentityDOList['controls'][j].controls
                                .identityNum.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyIdentityDOList['controls'][j].controls
                                  .identityNum.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyIdentityDOList['controls'][j].controls
                                  .identityNum.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyIdentityDOList['controls'][j].controls
                                .identityNum.pristine
                          }"
                          class="form-control-sm form-control insurance-input"
                        />
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyIdentityDOList['controls'][j].controls
                              .identityNum.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyIdentityDOList['controls'][j].controls
                                .identityNum.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyIdentityDOList['controls'][j].controls
                              .identityNum.errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyIdentityDOList['controls'][j].controls
                              .identityNum.pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyIdentityDOList['controls'][j].controls
                                .identityNum.identityNumError)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid identity number*
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-row mt-2">
                <div
                  class="col-lg-12 col-md-12 col-sm-12 col-12 insurance_application-subheader_box d-flex align-items-center"
                >
                  <h5 class="insurance_application-subheading mr-auto">
                    Address Details :
                  </h5>
                </div>
              </div>
              <div>
                <div
                  formArrayName="partyAddressDOList"
                  *ngFor="
                    let contact of insuranceForm.controls.proposer['controls']
                      .partyAddressDOList['controls'];
                    let j = index
                  "
                >
                  <div class="form-row" [formGroupName]="j">
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerLine1" class="insurance-label"
                          >Line 1<span class="astrisk">*</span></label
                        >
                        <textarea
                          type="text"
                          id="proposerLine1"
                          minlength="10"
                          maxlength="400"
                          formControlName="addressLine1Lang1"
                          autocomplete="new-addressLine1Lang1"
                          pattern="^[ A-Za-z0-9-:./\n,]*$"
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine1Lang1.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine1Lang1.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .addressLine1Lang1.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .addressLine1Lang1.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine1Lang1.pristine
                          }"
                          class="insurance-input form-control-sm form-control"
                        ></textarea>
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .addressLine1Lang1.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine1Lang1.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .addressLine1Lang1.errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .addressLine1Lang1.pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine1Lang1.addressLine1Lang1Error)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid address 1*
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerLine2" class="insurance-label"
                          >Line 2<span class="astrisk">*</span></label
                        >
                        <textarea
                          type="text"
                          id="proposerLine2"
                          minlength="10"
                          maxlength="400"
                          formControlName="addressLine2Lang1"
                          autocomplete="new-addressLine2Lang1"
                          pattern="^[ A-Za-z0-9-:./\n,]*$"
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine2Lang1.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine2Lang1.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .addressLine2Lang1.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .addressLine2Lang1.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine2Lang1.pristine
                          }"
                          class="insurance-input form-control-sm form-control"
                        ></textarea>
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .addressLine2Lang1.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine2Lang1.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .addressLine2Lang1.errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .addressLine2Lang1.pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .addressLine2Lang1.addressLine2Lang1Error)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid address 2*
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerAddressType" class="insurance-label"
                          >Address Type<span class="astrisk">*</span></label
                        >
                        <select
                          name="proposerAddressType"
                          id="proposerAddressType"
                          formControlName="addressTypeCd"
                          autocomplete="new-addressTypeCd"
                          class="form-control form-control-sm insurance-select"
                        >
                          <option selected value="PERMANENT">Permanent</option>
                          <option value="COMMUNICATION">Communication</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerArea" class="insurance-label"
                          >Area<span class="astrisk">*</span></label
                        >
                        <input
                          type="text"
                          id="proposerArea"
                          formControlName="areaCd"
                          autocomplete="new-areaCd"
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .areaCd.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .areaCd.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .areaCd.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .areaCd.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .areaCd.pristine
                          }"
                          class="insurance-input form-control-sm form-control"
                        />
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls.areaCd
                              .invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .areaCd.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls.areaCd
                              .errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls.areaCd
                              .pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .areaCd.areaCdError)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid area*
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerCity" class="insurance-label"
                          >City<span class="astrisk">*</span></label
                        >
                        <input
                          type="text"
                          id="proposerCity"
                          formControlName="cityCd"
                          autocomplete="new-cityCd"
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .cityCd.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .cityCd.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .cityCd.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .cityCd.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .cityCd.pristine
                          }"
                          class="insurance-input form-control-sm form-control"
                        />
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls.cityCd
                              .invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .cityCd.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls.cityCd
                              .errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls.cityCd
                              .pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .cityCd.cityCdError)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid city*
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerPinCode" class="insurance-label"
                          >Pin Code<span class="astrisk">*</span></label
                        >
                        <input
                          type="text"
                          id="proposerPinCode"
                          formControlName="pinCode"
                          autocomplete="new-pinCode"
                          pattern="^[1-9][0-9]{5}$"
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .pinCode.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .pinCode.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .pinCode.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .pinCode.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .pinCode.pristine
                          }"
                          class="insurance-input form-control-sm form-control"
                        />
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .pinCode.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .pinCode.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .pinCode.errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .pinCode.pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .pinCode.pinCodeError)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid pin code*
                        </div>
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerState" class="insurance-label"
                          >State<span class="astrisk">*</span></label
                        >
                        <select
                          formControlName="stateCd"
                          id="proposerState"
                          class="form-control col form-control-sm insurance-select"
                        >
                        <option value="Delhi">Delhi</option>
                        <option value="New Delhi">New Delhi</option>
                        <option value="Andaman And Nicobar Islands">
                          Andaman And Nicobar Islands
                        </option>
                        <option value="Andhra Pradesh">Andhra Pradesh</option>
                        <option value="Arunachal Pradesh">
                          Arunachal Pradesh
                        </option>ion
                        <option value="Assam">Assam</option>
                        <option value="Bihar">Bihar</option>
                        <option value="Chhattisgarh">Chhattisgarh</option>
                        <option value="Chandigarh">Chandigarh</option>
                        <option value="Dadar And Nagar Haveli">
                          Dadar and Nagar Haveli
                        </option>
                        <option value="Daman And Diu">Daman And Diu</option>
                        <option value="Goa">Goa</option>
                        <option value="Gujarat">Gujarat</option>
                        <option value="Haryana">Haryana</option>
                        <option value="Himachal Pradesh">
                          Himachal Pradesh
                        </option>
                        <option value="Jammu And Kashmir">
                          Jammu and Kashmir
                        </option>
                        <option value="Jharkhand">Jharkhand</option>
                        <option value="Karnataka">Karnataka</option>
                        <option value="Kerala">Kerala</option>
                        <option value="Lakshadweep">Lakshadweep</option>
                        <option value="Madhya Pradesh">Madhya Pradesh</option>
                        <option value="Maharashtra">Maharashtra</option>
                        <option value="Manipur">Manipur</option>
                        <option value="Meghalaya">Meghalaya</option>
                        <option value="Mizoram">Mizoram</option>
                        <option value="Nagaland">Nagaland</option>
                        <option value="Odisha">Odisha</option>
                        <option value="Punjab">Punjab</option>
                        <option value="Puducherry">Puducherry</option>
                        <option value="Rajasthan">Rajasthan</option>
                        <option value="Sikkim">Sikkim</option>
                        <option value="Tamil Nadu">Tamil Nadu</option>
                        <option value="Telangana">Telangana</option>
                        <option value="Tripura">Tripura</option>
                        <option value="Uttar Pradesh">Uttar Pradesh</option>
                        <option value="Uttarakhand">Uttarakhand</option>
                        <option value="West Bengal">West Bengal</option>
                        </select>
                      </div>
                    </div>
                    <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                      <div class="insurance-input_box">
                        <label for="proposerCountry" class="insurance-label"
                          >Country<span class="astrisk">*</span></label
                        >
                        <input
                          type="text"
                          id="proposerCountry"
                          formControlName="countryCd"
                          autocomplete="new-countryCd"
                          [ngClass]="{
                            'is-invalid':
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .countryCd.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .countryCd.dirty,
                            'is-valid':
                              !(
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .countryCd.invalid &&
                                insuranceForm.controls.proposer['controls']
                                  .partyAddressDOList['controls'][j].controls
                                  .countryCd.dirty
                              ) &&
                              !insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .countryCd.pristine
                          }"
                          class="insurance-input form-control-sm form-control"
                        />
                        <div
                          *ngIf="
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .countryCd.invalid &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .countryCd.dirty) ||
                            insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .countryCd.errors?.valueErr ||
                            (insuranceForm.controls.proposer['controls']
                              .partyAddressDOList['controls'][j].controls
                              .countryCd.pristine &&
                              insuranceForm.controls.proposer['controls']
                                .partyAddressDOList['controls'][j].controls
                                .countryCd.countryCdError)
                          "
                          class="invalid-feedback"
                          style="display: block"
                        >
                          Enter a valid country*
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="form-row mt-2">
                <div class="col-12">
                  <div class="sameAsPrimary d-flex align-items-center">
                    <label
                    class="form-check-label insurance-label"
                    for="ensureYourSelf"
                    style="font-size: 14px; margin-bottom: 0px;"
                    >
                    Do you want to ensure yourself ?
                  </label>
                  <input
                  (change)="setPrimaryAsProposer()"
                    formControlName="ensureYourSelf"
                    class="mt-0 ml-2"
                    type="checkbox"
                    id="ensureYourSelf"
                  />
                  </div>
                </div>
              </div>
            </div>
          </div>
        </form>

        <div class="mt-4">
        <div
          formArrayName="insurer"
          *ngFor="let insurer of getControls; let first = first; let i = index"
          class="card"
        >
          <form [formGroupName]="i">
            <div
              class="card-header main__card-heading"
              [ngClass]="{'no-collapsable': first}"
              id="{{ dataSource[i].id }} {{ i + 1 }}"
              data-toggle="collapse"
              attr.aria-controls="{{ dataSource[i].dataToggle }}"
              attr.data-target="{{ dataSource[i].dataToggleHash }}"
              attr.aria-expanded="{{
                selectedTravellerForm === i || getControls[i].invalid
                  ? 'true'
                  : 'false'
              }}"
            >
              <h5 class="mb-0">
                <button class="btn btn-link p-0" type="button">
                  {{ dataSource[i].id.substring(0, 6) }}
                  <span *ngIf="!first">{{ i + 1 }}</span>
                </button>
              </h5>
              <span
                *ngIf="!getControls[i].valid"
                class="main__card-heading-form_statue"
              >
                <div class="error-formIcon img-sprite"></div>
              </span>
              <span
                *ngIf="getControls[i].valid"
                class="main__card-heading-form_statue"
              >
                <div class="success-formIcon img-sprite"></div>
              </span>
              <span (click)="onRemoveInsurer(i)" *ngIf="!first">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="22"
                  height="22"
                  fill="currentColor"
                  class="bi bi-x"
                  viewBox="0 0 16 16"
                >
                  <path
                    fill-rule="evenodd"
                    d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"
                  />
                </svg>
              </span>
            </div>
            <div
              id="{{ dataSource[i].dataToggle }}"
              class="collapse"
              [class.show]="selectedTravellerForm === i"
              attr.aria-labelledby="{{ dataSource[i].id }}"
              data-parent="#accordionInsurer"
            >
              <div class="card-body">
                <div class="form-row mt-2">
                  <div
                    class="col-lg-12 col-md-12 col-sm-12 col-12 insurance_application-subheader_box d-flex align-items-center"
                  >
                    <h5 class="insurance_application-subheading mr-auto">
                      Customer Details :
                    </h5>
                  </div>
                </div>
                <div class="form-row">
                  <div
                    class="col-lg-12 col-md-12 col-sm-12 col-12 insurance_application-subheader_box"
                  >
                    <h5 class="insurance_application-subheading"></h5>
                  </div>
                  <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                    <div class="insurance-input_box">
                      <label for="firstName{{ i }}" class="insurance-label"
                        >First Name<span class="astrisk">*</span></label
                      >
                      <div class="input-group">
                        <div class="input-group-prepend" style="width: 60px">
                          <select
                            name="titleCd"
                            id="titleCd{{ i }}"
                            class="form-control form-control-sm insurance-select titleSelect"
                            formControlName="titleCd"
                          >
                            <option selected value="MR">Mr</option>
                            <option value="MS">Ms</option>
                          </select>
                        </div>
                        <input
                          type="text"
                          id="firstName"
                          formControlName="firstName"
                          autocomplete="new-name"
                          pattern="[A-Za-z]{3,32}"
                          [ngClass]="{
                            'is-invalid':
                              getControls[i]['controls'].firstName.invalid &&
                              getControls[i]['controls'].firstName.dirty,
                            'is-valid':
                              !(
                                getControls[i]['controls'].firstName.invalid &&
                                getControls[i]['controls'].firstName.dirty
                              ) &&
                              !getControls[i]['controls'].firstName.pristine
                          }"
                          class="form-control-sm form-control insurance-input"
                        />
                      </div>
                      <div
                        *ngIf="
                          (getControls[i]['controls'].firstName.invalid &&
                            getControls[i]['controls'].firstName.dirty) ||
                          getControls[i]['controls'].firstName.errors
                            ?.valueErr ||
                          (getControls[i]['controls'].firstName.pristine &&
                            getControls[i]['controls'].firstName.firstNameError)
                        "
                        class="invalid-feedback"
                        style="display: block"
                      >
                        Enter a valid first name*
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                    <div class="insurance-input_box">
                      <label for="lastName{{ i }}" class="insurance-label"
                        >Last Name<span class="astrisk">*</span></label
                      >
                      <input
                        type="text"
                        id="lastName{{ i }}"
                        formControlName="lastName"
                        autocomplete="new-lastName"
                        pattern="[A-Za-z]{3,32}"
                        [ngClass]="{
                          'is-invalid':
                            getControls[i]['controls'].lastName.invalid &&
                            getControls[i]['controls'].lastName.dirty,
                          'is-valid':
                            !(
                              getControls[i]['controls'].lastName.invalid &&
                              getControls[i]['controls'].lastName.dirty
                            ) && !getControls[i]['controls'].lastName.pristine
                        }"
                        class="form-control-sm form-control insurance-input"
                      />
                      <div
                        *ngIf="
                          (getControls[i]['controls'].lastName.invalid &&
                            getControls[i]['controls'].lastName.dirty) ||
                          getControls[i]['controls'].lastName.errors
                            ?.valueErr ||
                          (getControls[i]['controls'].lastName.pristine &&
                            getControls[i]['controls'].lastName.lastNameError)
                        "
                        class="invalid-feedback"
                        style="display: block"
                      >
                        Enter a valid last name*
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                    <div class="insurance-input_box">
                      <label for="dateOfBirth{{ i }}" class="insurance-label"
                        >Date Of Birth<span class="astrisk">*</span></label
                      >
                      <div class="input-group">
                        <input hidden formControlName="birthDt" type="text" />
                        <input
                          [minDate]="{ year: 1930, month: 1, day: 1 }"
                          [maxDate]="maxDateDob"
                          formControlName="birthDtCopy"
                          id="#dob"
                          class="form-control form-control-sm addTravelDate"
                          autocomplete="new-birthDt"
                          placeholder="Date Of Birth"
                          name="dp"
                          ngbDatepicker
                          #dob="ngbDatepicker"
                          style="
                            border-top-left-radius: 0.2rem;
                            border-bottom-left-radius: 0.2rem;
                          "
                        />
                        <div class="input-group-append">
                          <button
                            class="btn btn-sm calendar"
                            (click)="dob.toggle()"
                            type="button"
                          >
                            <svg
                              xmlns="http://www.w3.org/2000/svg"
                              viewBox="0 0 24 24"
                              class="calendarSvg"
                              width="18px"
                              height="18px"
                            >
                              <path
                                d="M9 11H7v2h2v-2zm4 0h-2v2h2v-2zm4 0h-2v2h2v-2zm2-7h-1V2h-2v2H8V2H6v2H5c-1.11 0-1.99.9-1.99 2L3 20c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H5V9h14v11z"
                              />
                              <path d="M0 0h24v24H0z" fill="none" />
                            </svg>
                          </button>
                        </div>
                      </div>
                      <div
                        *ngIf="
                          (getControls[i]['controls'].birthDt.invalid &&
                            getControls[i]['controls'].birthDt.dirty) ||
                          getControls[i]['controls'].birthDt.errors?.valueErr ||
                          (getControls[i]['controls'].birthDtCopy.pristine &&
                            getControls[i]['controls'].birthDt.birthDtError)
                        "
                        class="invalid-feedback"
                        style="display: block"
                      >
                        Enter a valid date of birth*
                      </div>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                    <div class="insurance-input_box">
                      <label for="gender" class="insurance-label"
                        >Gender<span class="astrisk">*</span></label
                      >
                      <select
                        name="genderCd{{ i }}"
                        id="genderCd{{ i }}"
                        formControlName="genderCd"
                        autocomplete="new-genderCd"
                        class="form-control form-control-sm insurance-select"
                      >
                        <option selected value="MALE">Male</option>
                        <option value="FEMALE">Female</option>
                      </select>
                    </div>
                  </div>
                  <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                    <div class="insurance-input_box">
                      <label for="nationality{{ i }}" class="insurance-label"
                        >Nationality<span class="astrisk">*</span></label
                      >
                      <input
                        type="text"
                        id="nationality{{ i }}"
                        formControlName="citizenshipCd"
                        autocomplete="new-citizenshipCd"
                        [ngClass]="{
                          'is-invalid':
                            getControls[i]['controls'].citizenshipCd.invalid &&
                            getControls[i]['controls'].citizenshipCd.dirty,
                          'is-valid':
                            !(
                              getControls[i]['controls'].citizenshipCd
                                .invalid &&
                              getControls[i]['controls'].citizenshipCd.dirty
                            ) &&
                            !getControls[i]['controls'].citizenshipCd.pristine
                        }"
                        class="form-control-sm form-control insurance-input"
                      />
                      <div
                        *ngIf="
                          (getControls[i]['controls'].citizenshipCd.invalid &&
                            getControls[i]['controls'].citizenshipCd.dirty) ||
                          getControls[i]['controls'].citizenshipCd.errors
                            ?.valueErr ||
                          (getControls[i]['controls'].citizenshipCd.pristine &&
                            getControls[i]['controls'].citizenshipCd
                              .citizenshipCdError)
                        "
                        class="invalid-feedback"
                        style="display: block"
                      >
                        Enter a valid nationality*
                      </div>
                    </div>
                  </div>
                  <!-- <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                    <div class="insurance-input_box">
                      <label class="insurance-label" for="residenceProof{{ i }}"
                        >Residence Proof<span class="astrisk">*</span></label
                      >
                      <input
                        type="text"
                        id="residenceProof{{ i }}"
                        formControlName="residenceProof"
                        autocomplete="new-residenceProof"
                        [ngClass]="{
                          'is-invalid':
                            getControls[i]['controls'].residenceProof.invalid &&
                            getControls[i]['controls'].residenceProof.dirty,
                          'is-valid':
                            !(
                              getControls[i]['controls'].residenceProof
                                .invalid &&
                              getControls[i]['controls'].residenceProof.dirty
                            ) &&
                            !getControls[i]['controls'].residenceProof.pristine
                        }"
                        class="form-control-sm form-control insurance-input"
                      />
                      <div
                        *ngIf="
                          (getControls[i]['controls'].residenceProof.invalid &&
                            getControls[i]['controls'].residenceProof.dirty) ||
                          getControls[i]['controls'].residenceProof.errors
                            ?.valueErr ||
                          (getControls[i]['controls'].residenceProof.pristine &&
                            getControls[i]['controls'].residenceProof
                              .residenceProofError)
                        "
                        class="invalid-feedback"
                        style="display: block"
                      >
                        Enter a valid residence proof*
                      </div>
                    </div>
                  </div> -->
                  <div class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box">
                    <div class="insurance-input_box">
                      <label for="relationCd{{ i }}" class="insurance-label"
                        >Relation<span class="astrisk">*</span></label
                      >
                      <select
                        name="relationCd{{ i }}"
                        (change)="onRelationValueChange()"
                        id="relationCd{{ i }}"
                        formControlName="relationCd"
                        autocomplete="new-relationCd"
                        class="form-control form-control-sm insurance-select"
                      >
                      <option value="">-- Relation --</option>
                        <option
                          *ngFor="let item of relationOptionArr"
                          [value]="item"
                        >
                          {{ item }}
                        </option>
                      </select>
                      <div
                      *ngIf="
                      (getControls[i]['controls'].relationCd.invalid &&
                        getControls[i]['controls'].relationCd.dirty) ||
                      getControls[i]['controls'].relationCd.errors
                        ?.valueErr ||
                      (getControls[i]['controls'].relationCd.pristine &&
                        getControls[i]['controls'].relationCd.relationCdError)
                    "
                      class="invalid-feedback"
                      style="display: block"
                    >
                    Select the valid option*
                    </div>
                    <div
                    *ngIf="getControls[i]['controls'].relationCd.duplicatesError && getControls[i]['controls'].relationCd.value != ''"
                    class="invalid-feedback"
                    style="display: block"
                  >
                  Details already exist.
                  </div>
                    </div>
                  </div>
                </div>
                <div class="form-row">
                  <div class="col-lg-6">
                    <div class="form-row">
                      <div
                        class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box"
                        formArrayName="partyContactDOList"
                        *ngFor="
                          let contact of getControls[i]['controls']
                            .partyContactDOList.controls;
                          let j = index
                        "
                      >
                        <div class="insurance-input_box" [formGroupName]="j">
                          <label class="insurance-label" for="contactNum{{ i }}"
                            >Contact No.<span class="astrisk">*</span></label
                          >
                          <div class="input-group input-group-sm">
                            <div class="input-group-prepend">
                              <span class="input-group-text">+91</span>
                            </div>
                            <input
                              type="tel"
                              id="contactNum{{ i }}"
                              formControlName="contactNum"
                              autocomplete="new-contactNum"
                              pattern="^[6-9][0-9]{9}$"
                              [ngClass]="{
                                'is-invalid':
                                  getControls[i]['controls'].partyContactDOList
                                    .controls[0].controls.contactNum.invalid &&
                                  getControls[i]['controls'].partyContactDOList
                                    .controls[0].controls.contactNum.dirty,
                                'is-valid':
                                  !(
                                    getControls[i]['controls']
                                      .partyContactDOList.controls[0].controls
                                      .contactNum.invalid &&
                                    getControls[i]['controls']
                                      .partyContactDOList.controls[0].controls
                                      .contactNum.dirty
                                  ) &&
                                  !getControls[i]['controls'].partyContactDOList
                                    .controls[0].controls.contactNum.pristine
                              }"
                              class="form-control-sm form-control insurance-input iti"
                            />
                          </div>
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyContactDOList
                                .controls[0].controls.contactNum.invalid &&
                                getControls[i]['controls'].partyContactDOList
                                  .controls[0].controls.contactNum.dirty) ||
                              getControls[i]['controls'].partyContactDOList
                                .controls[0].controls.contactNum.errors
                                ?.valueErr ||
                              (getControls[i]['controls'].partyContactDOList
                                .controls[0].controls.contactNum.pristine &&
                                getControls[i]['controls'].partyContactDOList
                                  .controls[0].controls.contactNum
                                  .contactNumError)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid contact number*
                          </div>
                        </div>
                      </div>
                      <div
                        class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box"
                        formArrayName="partyEmailDOList"
                        *ngFor="
                          let email of getControls[i]['controls']
                            .partyEmailDOList.controls;
                          let j = index
                        "
                      >
                        <div class="insurance-input_box" [formGroupName]="j">
                          <label
                            for="emailAddress{{ i }}"
                            class="insurance-label"
                            >Email Address<span class="astrisk">*</span></label
                          >
                          <input
                            type="email"
                            id="emailAddress{{ i }}"
                            formControlName="emailAddress"
                            autocomplete="new-emailAddress"
                            pattern="^([A-Za-z0-9._%\+\-]+@[a-z0-9.\-]+\.[a-z]{2,3})$"
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyEmailDOList
                                  .controls[0].controls.emailAddress.invalid &&
                                getControls[i]['controls'].partyEmailDOList
                                  .controls[0].controls.emailAddress.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyEmailDOList
                                    .controls[0].controls.emailAddress
                                    .invalid &&
                                  getControls[i]['controls'].partyEmailDOList
                                    .controls[0].controls.emailAddress.dirty
                                ) &&
                                !getControls[i]['controls'].partyEmailDOList
                                  .controls[0].controls.emailAddress.pristine
                            }"
                            class="form-control-sm form-control insurance-input"
                          />
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyEmailDOList
                                .controls[0].controls.emailAddress.invalid &&
                                getControls[i]['controls'].partyEmailDOList
                                  .controls[0].controls.emailAddress.dirty) ||
                              getControls[i]['controls'].partyEmailDOList
                                .controls[0].controls.emailAddress.errors
                                ?.valueErr ||
                              (getControls[i]['controls'].partyEmailDOList
                                .controls[0].controls.emailAddress.pristine &&
                                getControls[i]['controls'].partyEmailDOList
                                  .controls[0].controls.emailAddress
                                  .emailAddressError)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid email address*
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div
                    class="col-lg-6"
                    formArrayName="partyIdentityDOList"
                    *ngFor="
                      let indentity of getControls[i]['controls']
                        .partyIdentityDOList.controls;
                      let j = index
                    "
                  >
                    <div class="form-row" [formGroupName]="j">
                      <div
                        class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label
                            for="proposerIdentityType"
                            class="insurance-label"
                            >Identity Type<span class="astrisk">*</span></label
                          >
                          <select
                            name="identityTypeCd{{ i }}"
                            id="identityTypeCd{{ i }}"
                            formControlName="identityTypeCd"
                            autocomplete="new-identityTypeCd"
                            class="form-control form-control-sm insurance-select"
                          >
                            <option selected value="PAN">PAN</option>
                            <option value="PASSPORT">PASSPORT</option>
                          </select>
                        </div>
                      </div>
                      <div
                        class="col-lg-6 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label
                            for="identityNumber{{ i }}"
                            class="insurance-label"
                            >Identity Number<span class="astrisk"
                              >*</span
                            ></label
                          >
                          <input
                            type="text"
                            id="identityNumber{{ i }}"
                            formControlName="identityNum"
                            autocomplete="new-identityNum"
                            [pattern]="
                              getControls[i]['controls'].partyIdentityDOList
                                .controls[0].controls.identityTypeCd.value ===
                              'PAN'
                                ? '^([a-zA-Z]){5}([0-9]){4}([a-zA-Z]){1}?$'
                                : '^[A-Za-z]{1}[0-9]{7}$'
                            "
                            #identityNum
                            (input)="
                              identityNum.value = $event.target.value.toUpperCase()
                            "
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyIdentityDOList
                                  .controls[0].controls.identityNum.invalid &&
                                getControls[i]['controls'].partyIdentityDOList
                                  .controls[0].controls.identityNum.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyIdentityDOList
                                    .controls[0].controls.identityNum.invalid &&
                                  getControls[i]['controls'].partyIdentityDOList
                                    .controls[0].controls.identityNum.dirty
                                ) &&
                                !getControls[i]['controls'].partyIdentityDOList
                                  .controls[0].controls.identityNum.pristine
                            }"
                            class="form-control-sm form-control insurance-input"
                          />
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyIdentityDOList
                                .controls[0].controls.identityNum.invalid &&
                                getControls[i]['controls'].partyIdentityDOList
                                  .controls[0].controls.identityNum.dirty) ||
                              getControls[i]['controls'].partyIdentityDOList
                                .controls[0].controls.identityNum.errors
                                ?.valueErr ||
                              (getControls[i]['controls'].partyIdentityDOList
                                .controls[0].controls.identityNum.pristine &&
                                getControls[i]['controls'].partyIdentityDOList
                                  .controls[0].controls.identityNum
                                  .identityNumError)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid identity number*
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="form-row mt-2">
                  <div
                    class="col-lg-12 col-md-12 col-sm-12 col-12 insurance_application-subheader_box d-flex align-items-center"
                  >
                    <h5 class="insurance_application-subheading mr-auto">
                      Address Details :
                    </h5>

                    <div
                      class="sameAsPrimary d-flex align-items-center"
                      *ngIf="!first"
                    >
                      <input
                        (click)="setAddressSame($event.target.value, i)"
                        formControlName="addressForPickupSame"
                        class="form-check-input mt-0"
                        type="checkbox"
                        id="sameAddress{{ i }}"
                      />
                      <label
                        class="form-check-label"
                        for="sameAddress{{ i }}"
                        style="font-size: 13px"
                      >
                        Same as Primary Traveller
                      </label>
                    </div>
                  </div>
                </div>
                <div
                  *ngIf="!getControls[i]['controls'].addressForPickupSame.value || first"
                >
                  <div
                    formArrayName="partyAddressDOList"
                    *ngFor="
                      let contact of getControls[i]['controls']
                        .partyAddressDOList.controls;
                      let j = index
                    "
                  >
                    <div class="form-row" [formGroupName]="j">
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label for="line1-{{ i }}" class="insurance-label"
                            >Line 1<span class="astrisk">*</span></label
                          >
                          <textarea
                            type="text"
                            id="line1-{{ i }}"
                            minlength="10"
                            maxlength="400"
                            formControlName="addressLine1Lang1"
                            autocomplete="new-addressLine1Lang1"
                            [required]="first"
                            pattern="^[ A-Za-z0-9-:./\n,]*$"
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine1Lang1
                                  .invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine1Lang1.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.addressLine1Lang1
                                    .invalid &&
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.addressLine1Lang1
                                    .dirty
                                ) &&
                                !getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine1Lang1
                                  .pristine
                            }"
                            class="insurance-input form-control-sm form-control"
                          ></textarea>
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.addressLine1Lang1
                                .invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine1Lang1
                                  .dirty) ||
                              getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.addressLine1Lang1.errors
                                ?.valueErr ||
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.addressLine1Lang1
                                .pristine &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine1Lang1
                                  .addressLine1Lang1Error)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid address 1*
                          </div>
                        </div>
                      </div>
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label for="line2-{{ i }}" class="insurance-label"
                            >Line 2<span class="astrisk">*</span></label
                          >
                          <textarea
                            type="text"
                            id="line2-{{ i }}"
                            minlength="10"
                            maxlength="400"
                            formControlName="addressLine2Lang1"
                            autocomplete="new-addressLine2Lang1"
                            [required]="first"
                            pattern="^[ A-Za-z0-9-:./\n,]*$"
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine2Lang1
                                  .invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine2Lang1.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.addressLine2Lang1
                                    .invalid &&
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.addressLine2Lang1
                                    .dirty
                                ) &&
                                !getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine2Lang1
                                  .pristine
                            }"
                            class="insurance-input form-control-sm form-control"
                          ></textarea>
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.addressLine2Lang1
                                .invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine2Lang1
                                  .dirty) ||
                              getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.addressLine2Lang1.errors
                                ?.valueErr ||
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.addressLine2Lang1
                                .pristine &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.addressLine2Lang1
                                  .addressLine2Lang1Error)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid address 2*
                          </div>
                        </div>
                      </div>
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label
                            for="addressType-{{ i }}"
                            class="insurance-label"
                            >Address Type<span class="astrisk">*</span></label
                          >
                          <select
                            name="addressTypeCd{{ i }}"
                            id="addressTypeCd{{ i }}"
                            formControlName="addressTypeCd"
                            autocomplete="new-addressTypeCd"
                            class="form-control form-control-sm insurance-select"
                          >
                            <option selected value="PERMANENT">
                              Permanent
                            </option>
                            <option value="COMMUNICATION">Communication</option>
                          </select>
                        </div>
                      </div>
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label for="area-{{ i }}" class="insurance-label"
                            >Area<span class="astrisk">*</span></label
                          >
                          <input
                            type="text"
                            id="area-{{ i }}"
                            formControlName="areaCd"
                            autocomplete="new-areaCd"
                            [required]="first"
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.areaCd.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.areaCd.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.areaCd.invalid &&
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.areaCd.dirty
                                ) &&
                                !getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.areaCd.pristine
                            }"
                            class="insurance-input form-control-sm form-control"
                          />
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.areaCd.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.areaCd.dirty) ||
                              getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.areaCd.errors?.valueErr ||
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.areaCd.pristine &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.areaCd.areaCdError)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid area*
                          </div>
                        </div>
                      </div>
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label for="city-{{ i }}" class="insurance-label"
                            >City<span class="astrisk">*</span></label
                          >
                          <input
                            type="text"
                            id="city-{{ i }}"
                            formControlName="cityCd"
                            autocomplete="new-cityCd"
                            [required]="first"
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.cityCd.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.cityCd.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.cityCd.invalid &&
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.cityCd.dirty
                                ) &&
                                !getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.cityCd.pristine
                            }"
                            class="insurance-input form-control-sm form-control"
                          />
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.cityCd.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.cityCd.dirty) ||
                              getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.cityCd.errors?.valueErr ||
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.cityCd.pristine &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.cityCd.cityCdError)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid city*
                          </div>
                        </div>
                      </div>
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label for="pinCode-{{ i }}" class="insurance-label"
                            >Pin Code<span class="astrisk">*</span></label
                          >
                          <input
                            type="text"
                            id="pinCode-{{ i }}"
                            formControlName="pinCode"
                            autocomplete="new-pinCode"
                            [required]="first"
                            pattern="^[1-9][0-9]{5}$"
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.pinCode.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.pinCode.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.pinCode.invalid &&
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.pinCode.dirty
                                ) &&
                                !getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.pinCode.pristine
                            }"
                            class="insurance-input form-control-sm form-control"
                          />
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.pinCode.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.pinCode.dirty) ||
                              getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.pinCode.errors
                                ?.valueErr ||
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.pinCode.pristine &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.pinCode.pinCodeError)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid pin code*
                          </div>
                        </div>
                      </div>
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label for="state-{{ i }}" class="insurance-label"
                            >State<span class="astrisk">*</span></label
                          >
                          <select
                            formControlName="stateCd"
                            id="inputState"
                            class="form-control col form-control-sm insurance-select"
                          >
                          <option value="Delhi">Delhi</option>
                          <option value="New Delhi">New Delhi</option>
                          <option value="Andaman And Nicobar Islands">
                            Andaman And Nicobar Islands
                          </option>
                          <option value="Andhra Pradesh">Andhra Pradesh</option>
                          <option value="Arunachal Pradesh">
                            Arunachal Pradesh
                          </option>ion
                          <option value="Assam">Assam</option>
                          <option value="Bihar">Bihar</option>
                          <option value="Chhattisgarh">Chhattisgarh</option>
                          <option value="Chandigarh">Chandigarh</option>
                          <option value="Dadar And Nagar Haveli">
                            Dadar and Nagar Haveli
                          </option>
                          <option value="Daman And Diu">Daman And Diu</option>
                          <option value="Goa">Goa</option>
                          <option value="Gujarat">Gujarat</option>
                          <option value="Haryana">Haryana</option>
                          <option value="Himachal Pradesh">
                            Himachal Pradesh
                          </option>
                          <option value="Jammu And Kashmir">
                            Jammu and Kashmir
                          </option>
                          <option value="Jharkhand">Jharkhand</option>
                          <option value="Karnataka">Karnataka</option>
                          <option value="Kerala">Kerala</option>
                          <option value="Lakshadweep">Lakshadweep</option>
                          <option value="Madhya Pradesh">Madhya Pradesh</option>
                          <option value="Maharashtra">Maharashtra</option>
                          <option value="Manipur">Manipur</option>
                          <option value="Meghalaya">Meghalaya</option>
                          <option value="Mizoram">Mizoram</option>
                          <option value="Nagaland">Nagaland</option>
                          <option value="Odisha">Odisha</option>
                          <option value="Punjab">Punjab</option>
                          <option value="Puducherry">Puducherry</option>
                          <option value="Rajasthan">Rajasthan</option>
                          <option value="Sikkim">Sikkim</option>
                          <option value="Tamil Nadu">Tamil Nadu</option>
                          <option value="Telangana">Telangana</option>
                          <option value="Tripura">Tripura</option>
                          <option value="Uttar Pradesh">Uttar Pradesh</option>
                          <option value="Uttarakhand">Uttarakhand</option>
                          <option value="West Bengal">West Bengal</option>
                          </select>
                        </div>
                      </div>
                      <div
                        class="col-lg-3 col-md-4 col-sm-12 col-12 insurance-box"
                      >
                        <div class="insurance-input_box">
                          <label for="country-{{ i }}" class="insurance-label"
                            >Country<span class="astrisk">*</span></label
                          >
                          <input
                            type="text"
                            id="country-{{ i }}"
                            formControlName="countryCd"
                            autocomplete="new-countryCd"
                            [required]="first"
                            [ngClass]="{
                              'is-invalid':
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.countryCd.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.countryCd.dirty,
                              'is-valid':
                                !(
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.countryCd.invalid &&
                                  getControls[i]['controls'].partyAddressDOList
                                    .controls[0].controls.countryCd.dirty
                                ) &&
                                !getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.countryCd.pristine
                            }"
                            class="insurance-input form-control-sm form-control"
                          />
                          <div
                            *ngIf="
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.countryCd.invalid &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.countryCd.dirty) ||
                              getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.countryCd.errors
                                ?.valueErr ||
                              (getControls[i]['controls'].partyAddressDOList
                                .controls[0].controls.countryCd.pristine &&
                                getControls[i]['controls'].partyAddressDOList
                                  .controls[0].controls.countryCd
                                  .countryCdError)
                            "
                            class="invalid-feedback"
                            style="display: block"
                          >
                            Enter a valid country*
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </form>
        </div>
      </div>

        <div class="form-row mt-3">
          <div class="col-12">
            <button
              class="btn btn-sm rounded btn-primary addInsurerBtn"
              (click)="addInsurer()"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                height="14px"
                viewBox="0 0 512 512"
                width="14px"
                style="margin-top: -1px"
                class="hovered-paths"
              >
                <g>
                  <path
                    d="m304 512h-96c-17.679688 0-32-14.320312-32-32v-144h-144c-17.679688 0-32-14.320312-32-32v-96c0-17.679688 14.320312-32 32-32h144v-144c0-17.679688 14.320312-32 32-32h96c17.679688 0 32 14.320312 32 32v144h144c17.679688 0 32 14.320312 32 32v96c0 17.679688-14.320312 32-32 32h-144v144c0 17.679688-14.320312 32-32 32zm0 0"
                    fill="#FFFFFF"
                    data-original="#48C8EF"
                    class="hovered-path active-path"
                    data-old_color="#48c8ef"
                  />
                </g>
              </svg>
              Add Insurer
            </button>
          </div>
        </div>
      </form>
    </div>

    <div class="termsAndConditions mt-3">
      <div class="row">
        <div class="col-12">
          <div class="wrapper-box">
            <form [formGroup]="termsAndConditionForm">
              <div class="form-check">
                <div
                  class="custom-control custom-checkbox"
                  style="padding-left: 0px !important; font-size: 14px"
                >
                  <input
                    formControlName="tnc"
                    type="checkbox"
                    class="custom-control-input"
                    id="tnc"
                  />
                  <label
                    class="custom-control-label tnc"
                    for="tnc"
                    style="cursor: pointer"
                    >I agree with the
                    <a
                      [routerLink]="['/tnc']"
                      target="_blank"
                      routerLinkActive="router-link-active"
                      >Terms &amp; Conditions</a
                    >
                    and
                    <a
                      [routerLink]="['/cancellationPolicy']"
                      target="_blank"
                      routerLinkActive="router-link-active"
                      >Cancellation Policy</a
                    >
                    of Visa2fly.
                  </label>
                </div>
                <div class="invalid-feedback">
                  You must agree before submitting.
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div class="row mt-4">
      <div class="col-12 text-center">
        <button
          class="btn btn-sm rounded btn-primary proceedBtn"
          (click)="submitForm()"
        >
          Proceed
        </button>
      </div>
    </div>
  </div>
</section>

<div style="display: none">
  <form name="paymentForm" ngNoForm [action]="actionUrl" method="POST">
    <input
      type="text"
      name="returnUrl"
      id="returnUrl"
      [(ngModel)]="returnUrl"
    />
    <input
      type="text"
      name="proposalNumber"
      id="proposalNumber"
      [(ngModel)]="proposalNumber"
    />
  </form>
</div>

<div
  class="modal fade"
  id="warningModal"
  style="top: 200px"
  data-backdrop="static"
  data-keyboard="false"
  tabindex="-1"
  role="dialog"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
  style="display: none; background-color: rgba(0, 0, 0, 0.5)"
>
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div
        class="modal-header text-center"
        style="padding: 4px 1rem; background: #ff3333"
      >
        <h5 class="modal-title w-100 text-white" id="exampleModalLabel">
          Warning
        </h5>
      </div>
      <div class="modal-body" style="padding: 1rem 10px; font-size: 14px">
        <p class="mb-2">
          Premium amount changed from {{ oldPremium }} to {{ newPremium }}. This
          will be due to one of the following reasons :
        </p>
        <p class="mb-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="mr-1"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            id="Capa_1"
            x="0px"
            y="0px"
            viewBox="0 0 286.614 286.614"
            style="enable-background: new 0 0 286.614 286.614"
            xml:space="preserve"
            width="16px"
            height="16px"
          >
            <g>
              <g>
                <path
                  d="M270.126,105.055H146.394l23.487-18.548c7.147-5.643,8.364-16.011,2.721-23.156c-5.643-7.146-16.012-8.365-23.156-2.721   c0,0-40.819,33.689-60.28,47.603c-13.14,9.395-25.402,20.959-25.402,38.096v39.537c0,24.077,19.588,43.666,43.665,43.666   c17.677,0,61.369,0,77.789,0c9.106,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h5.359   c9.105,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h3.71c9.105,0,16.487-7.382,16.487-16.487   c0-5.927-3.138-11.108-7.832-14.014h49.874c9.105,0,16.487-7.382,16.487-16.487S279.232,105.055,270.126,105.055z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
                <path
                  d="M37.885,110.781H9.282c-5.126,0-9.282,4.156-9.282,9.282V220.25c0,5.126,4.156,9.282,9.282,9.282h28.603   c5.126,0,9.282-4.156,9.282-9.282V120.063C47.167,114.936,43.011,110.781,37.885,110.781z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
              </g>
            </g>
          </svg>
          Change in number of applicants
        </p>
        <p class="mb-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="mr-1"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            id="Capa_1"
            x="0px"
            y="0px"
            viewBox="0 0 286.614 286.614"
            style="enable-background: new 0 0 286.614 286.614"
            xml:space="preserve"
            width="16px"
            height="16px"
          >
            <g>
              <g>
                <path
                  d="M270.126,105.055H146.394l23.487-18.548c7.147-5.643,8.364-16.011,2.721-23.156c-5.643-7.146-16.012-8.365-23.156-2.721   c0,0-40.819,33.689-60.28,47.603c-13.14,9.395-25.402,20.959-25.402,38.096v39.537c0,24.077,19.588,43.666,43.665,43.666   c17.677,0,61.369,0,77.789,0c9.106,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h5.359   c9.105,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h3.71c9.105,0,16.487-7.382,16.487-16.487   c0-5.927-3.138-11.108-7.832-14.014h49.874c9.105,0,16.487-7.382,16.487-16.487S279.232,105.055,270.126,105.055z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
                <path
                  d="M37.885,110.781H9.282c-5.126,0-9.282,4.156-9.282,9.282V220.25c0,5.126,4.156,9.282,9.282,9.282h28.603   c5.126,0,9.282-4.156,9.282-9.282V120.063C47.167,114.936,43.011,110.781,37.885,110.781z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
              </g>
            </g>
          </svg>
          Change in age of any traveler
        </p>
        <p class="mb-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="mr-1"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            id="Capa_1"
            x="0px"
            y="0px"
            viewBox="0 0 286.614 286.614"
            style="enable-background: new 0 0 286.614 286.614"
            xml:space="preserve"
            width="16px"
            height="16px"
          >
            <g>
              <g>
                <path
                  d="M270.126,105.055H146.394l23.487-18.548c7.147-5.643,8.364-16.011,2.721-23.156c-5.643-7.146-16.012-8.365-23.156-2.721   c0,0-40.819,33.689-60.28,47.603c-13.14,9.395-25.402,20.959-25.402,38.096v39.537c0,24.077,19.588,43.666,43.665,43.666   c17.677,0,61.369,0,77.789,0c9.106,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h5.359   c9.105,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h3.71c9.105,0,16.487-7.382,16.487-16.487   c0-5.927-3.138-11.108-7.832-14.014h49.874c9.105,0,16.487-7.382,16.487-16.487S279.232,105.055,270.126,105.055z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
                <path
                  d="M37.885,110.781H9.282c-5.126,0-9.282,4.156-9.282,9.282V220.25c0,5.126,4.156,9.282,9.282,9.282h28.603   c5.126,0,9.282-4.156,9.282-9.282V120.063C47.167,114.936,43.011,110.781,37.885,110.781z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
              </g>
            </g>
          </svg>
          Change in Trip duration
        </p>
        <p class="mb-1">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="mr-1"
            xmlns:xlink="http://www.w3.org/1999/xlink"
            version="1.1"
            id="Capa_1"
            x="0px"
            y="0px"
            viewBox="0 0 286.614 286.614"
            style="enable-background: new 0 0 286.614 286.614"
            xml:space="preserve"
            width="16px"
            height="16px"
          >
            <g>
              <g>
                <path
                  d="M270.126,105.055H146.394l23.487-18.548c7.147-5.643,8.364-16.011,2.721-23.156c-5.643-7.146-16.012-8.365-23.156-2.721   c0,0-40.819,33.689-60.28,47.603c-13.14,9.395-25.402,20.959-25.402,38.096v39.537c0,24.077,19.588,43.666,43.665,43.666   c17.677,0,61.369,0,77.789,0c9.106,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h5.359   c9.105,0,16.487-7.382,16.487-16.487c0-5.927-3.138-11.108-7.833-14.014h3.71c9.105,0,16.487-7.382,16.487-16.487   c0-5.927-3.138-11.108-7.832-14.014h49.874c9.105,0,16.487-7.382,16.487-16.487S279.232,105.055,270.126,105.055z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
                <path
                  d="M37.885,110.781H9.282c-5.126,0-9.282,4.156-9.282,9.282V220.25c0,5.126,4.156,9.282,9.282,9.282h28.603   c5.126,0,9.282-4.156,9.282-9.282V120.063C47.167,114.936,43.011,110.781,37.885,110.781z"
                  data-original="#000000"
                  class="active-path"
                  fill="#000080"
                />
              </g>
            </g>
          </svg>
          Change of plan type
        </p>
      </div>
      <div
        class="modal-footer"
        style="padding: 0px 10px 10px; border-top: none"
      >
        <button class="btn btn-danger btn-sm" data-dismiss="modal">
          Cancel
        </button>

        <button
          type="button"
          class="btn btn-primary btn-sm"
          (click)="warningModal()"
        >
          Proceed
        </button>
      </div>
    </div>
  </div>
</div>
